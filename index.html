<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC Form</title>
    <!-- Подключаем Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <!-- Подключаем стили -->
    <link rel="stylesheet" href="base.css">
    <style>
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }
        .overlay::after {
            content: '';
            margin-bottom: 100px;
            width: 90%;
            max-width: 340px;
            height: 220px;
            background: rgba(255, 255, 255, 0);
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.6);
            border-radius: 12px;
        }
        body {
            font-family: Arial, sans-serif;
            padding: 0;
            margin: 0;
        }
        .container {
            max-width: 100vw;
            margin: 0 auto;
            height: 100vh;
        }
        h2 {
            margin-top: 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        video {
            width: 100%;
            height: 100vh;
            position: absolute;
            object-fit: cover;
        }
        button {
            padding: 10px 20px;
            margin-top: 10px;
            border: none;
            border-radius: 3px;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
            
        }
        button:hover {
            background-color: #0056b3;
        }
        .loading {
            text-align: center;
            margin-top: 20px;
        }
        .success {
            text-align: center;
            margin-top: 20px;
            color: green;
            font-weight: bold;
        }
        .steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 20px;
        }
        .step {
            width: 50px;
            height: 50px;
            text-align: center;
            line-height: 50px;
            border-radius: 50%;
            border: 2px solid #007bff;
            background-color: #fff;
            position: relative;
        }
        .step::after {
            content: '';
            position: absolute;
            top: 50%;
            left: calc(100% + 0px);
            transform: translateY(-50%);
            width: 70px;
            height: 4px;
            background-color: #007bff;
        }
        .step:last-child::after {
            display: none;
        }
        .step + .step {
            margin-left: 20px;
        }
        .active {
            background-color: #007bff;
            color: #fff;
        }
        .video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
        }
        .capture-button {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: white;
            cursor: pointer;
        }
        .capture-button::after{
            border-radius: 100%;
            content: "";
            height: 48px;
            margin: 0 auto;
            width: 48px;
            display: inline-block;
            border: var(--button-primary-border);
            border-radius: 50%;
            box-sizing: initial;
            content: "";
            height: 115%;
            left: 50%;
            pointer-events: none;
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 115%;
            border: 3px solid white;
        
    }
        
        .capture-button:focus {
            outline: none;
        }
        .text {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            text-align: center;
            padding-top: 30px;
            color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .text p{
            position: absolute;
            margin: 0px auto;
            font-size: 1.2rem;
            font-weight: 900;
            color: rgb(249, 249, 249);
        }
        .canvas-container {
            position: relative;
            width: 100%;
            height: 100vh;
        }
        .canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }
        .b-s{
            background: rgb(36, 123, 245);
            border: 0px;
            border-radius: 7px;
            font-weight: 900;
            height: 3.5rem;
            outline: transparent;
            padding: 0px 4rem;
            font-size: 1rem;
            position: relative;
            margin-bottom: 30px;
            display: none;

            
            
        }
        .b-s.retake{
            background-color: rgba(0, 87, 179, 0);
            border:rgb(249, 249, 249), 3px, solid;
            color: rgb(249, 249, 249);
            margin-right: 10px;
            
            
        }
        .text.face{
            height: 320px;       
            background: rgba(0, 0, 0, 0.6);
        }

    </style>
</head>
<body >

<div id="app" class="container">
    <!-- Навигация по этапам -->
    <div class="steps" style="display: none;">
        <div class="step" v-for="step in 4" :class="{ active: step === currentStep }"> {{ step }}</div>
    </div>

    <!-- Форма -->
    <div>
        <div v-if="currentStep === 1" style="display: flex; justify-content: center; align-items: center; flex-direction: column; padding: 30px;" >
            <img class="p1wby8jx" src="logo.svg" alt="Blockchain's Logo">
            <h2 style="align-self: flex-start" class="f-h1">Confirm your identity</h2>
            <p style="align-self: flex-start" class="f-p">We’ll ask for your ID and a selfie. It’s quick and secure, and trusted by millions of users worldwide.</p>
             <svg xmlns="http://www.w3.org/2000/svg" width="261" height="252" viewBox="0 0 261 252" fill="none" class="iznh79q" data-testid="intro-selfie-illustration"><g clip-path="url(#clip0_1536_4399)"><g id="colors"><g id="Group"><g id="Vector"><path d="M125.456 251.589C194.515 251.589 250.499 195.362 250.499 126.002C250.499 56.642 194.515 0.414673 125.456 0.414673C56.3965 0.414673 0.412903 56.642 0.412903 126.002C0.412903 195.362 56.3965 251.589 125.456 251.589Z" fill="white"></path><path d="M125.456 251.589C194.515 251.589 250.499 195.362 250.499 126.002C250.499 56.642 194.515 0.414673 125.456 0.414673C56.3965 0.414673 0.412903 56.642 0.412903 126.002C0.412903 195.362 56.3965 251.589 125.456 251.589Z" fill="var(--genoma-color-primary-100)" fill-opacity="0.2"></path></g><path id="Vector_2" d="M125.456 252C91.9461 252 60.4424 238.895 36.747 215.097C13.0516 191.298 0 159.657 0 126.002C0 92.3463 13.048 60.7018 36.7434 36.9033C60.4388 13.1048 91.9425 0 125.456 0C158.969 0 190.469 13.1048 214.165 36.9033C237.86 60.7018 250.908 92.3426 250.908 125.998C250.908 159.654 237.86 191.295 214.165 215.093C190.469 238.892 158.966 251.996 125.456 251.996V252ZM125.456 0.8257C92.1654 0.8257 60.8663 13.8461 37.328 37.4868C13.7861 61.1312 0.822122 92.5665 0.822122 126.002C0.822122 159.437 13.7861 190.872 37.328 214.513C60.8663 238.154 92.1654 251.178 125.456 251.178C158.746 251.178 190.045 238.158 213.584 214.513C237.122 190.869 250.086 159.437 250.086 126.002C250.086 92.5665 237.122 61.1312 213.584 37.4905C190.042 13.8461 158.746 0.8257 125.456 0.8257Z" fill="#212121"></path></g><path id="Vector_3" d="M159.824 80.7167C159.824 80.7167 168.312 61.1422 168.63 52.342C168.63 52.342 168.875 41.652 158.476 39.0648C158.476 39.0648 147.335 37.9235 142.457 37.2409C137.916 36.606 132.219 34.1363 130.133 34.4042C128.046 34.672 125.233 35.3803 125.814 35.2152C126.395 35.05 119.964 32.672 116.661 36.7198C113.358 40.7639 113.402 42.7529 111.418 46.6796C111.418 46.6796 106.152 56.0852 118.923 56.3604L119.354 52.1145C119.354 52.1145 125.105 50.8778 130.129 51.6705C130.129 51.6705 139.534 54.6613 145.417 53.7365C145.417 53.7365 152.224 53.7329 153.894 64.1587L154.848 75.3552C154.848 75.3552 159.572 77.2451 159.817 80.7204L159.824 80.7167Z" fill="#3C3C3B"></path><path id="Vector_4" d="M119.504 52.3163L116.127 83.6856C116.127 83.6856 114.845 94.7023 127.078 96.7941C127.078 96.7941 127.349 102.787 125.087 105.15L123.296 102.952C123.296 102.952 118.864 110.607 125.423 115.671C125.423 115.671 135.186 123.532 149.327 121.73C149.327 121.73 152.984 120.127 154.106 117.726V93.3555L152.104 87.2123C152.104 87.2123 158.761 88.6655 159.627 82.3351C159.627 82.3351 161.015 78.225 154.745 75.3882C154.745 75.3882 156.178 57.0173 146.488 54.0925C146.488 54.0925 137.645 54.2723 131.726 52.3163C131.726 52.3163 127.243 50.4117 119.511 52.3163H119.504Z" fill="#D1D1D1"></path><path id="Vector_5" d="M124.922 84.2214C124.922 84.2214 129.793 86.7279 135.058 85.2086C135.058 85.2086 133.94 89.3077 129.53 88.7793C129.53 88.7793 126.636 89.0509 124.922 84.2214Z" fill="white"></path><g id="Vector_6"><path d="M123.296 102.948C123.296 102.948 112.221 92.5114 92.9254 93.249L61.1841 96.7573L63.9794 125.679L95.9106 124.886L87.2144 188.627C87.2144 188.627 80.1697 242.961 81.6787 243.552C129.819 262.426 175.737 240.95 175.737 240.95L176.091 237.269C176.091 237.269 179.182 233.328 176.932 231.192L181.974 185.393L180.925 176.303C180.925 176.303 197.229 175.169 202.501 172.01C202.501 172.01 202.808 119.429 158.633 117.473L154.095 117.726C154.095 117.726 154.431 124.321 138.957 121.565C138.957 121.565 130.63 119.528 125.416 115.668C125.416 115.668 118.828 110.354 123.289 102.948H123.296Z" fill="white"></path><path d="M123.296 102.948C123.296 102.948 112.221 92.5114 92.9254 93.249L61.1841 96.7573L63.9794 125.679L95.9106 124.886L87.2144 188.627C87.2144 188.627 80.1697 242.961 81.6787 243.552C129.819 262.426 175.737 240.95 175.737 240.95L176.091 237.269C176.091 237.269 179.182 233.328 176.932 231.192L181.974 185.393L180.925 176.303C180.925 176.303 197.229 175.169 202.501 172.01C202.501 172.01 202.808 119.429 158.633 117.473L154.095 117.726C154.095 117.726 154.431 124.321 138.957 121.565C138.957 121.565 130.63 119.528 125.416 115.668C125.416 115.668 118.828 110.354 123.289 102.948H123.296Z" fill="var(--genoma-color-primary-100)" fill-opacity="0.05"></path></g><path id="Vector_7" d="M200.287 226.535L204.062 219.181C204.062 219.181 206.985 215.904 205.859 204.869L202.509 172.01C202.509 172.01 190.451 176.847 180.933 176.304L186.797 214.943L177.275 240.213C177.275 240.213 196.798 230.477 200.287 226.535Z" fill="#D1D1D1"></path><path id="Vector_8" d="M34.8214 22.1178L35.8957 12.8039C35.8957 12.8039 36.5241 12.07 38.1282 12.2021C39.7322 12.3342 53.1639 18.1838 53.1639 18.1838C53.1639 18.1838 53.8326 18.6168 53.6316 20.404L49.4516 57.1642C49.4516 57.1642 49.4443 58.6394 47.336 58.6431L31.9093 51.2999L34.8214 22.1178Z" fill="#575756"></path><path id="Vector_9" d="M61.4253 98.7464L33.433 102.567L30.2249 52.8962C30.2249 52.8962 34.3757 50.0081 34.6241 45.9016C34.6241 45.9016 34.9457 41.4539 39.6299 41.5933C39.6299 41.5933 44.0657 41.608 44.3507 39.5272C44.3507 39.5272 45.5967 38.4043 45.4067 36.7565C45.4067 36.7565 46.6308 35.4097 45.4067 33.9602C45.4067 33.9602 43.3752 30.1913 33.8166 31.8941L36.1076 28.65L43.2327 30.3638C43.2327 30.3638 45.1254 30.7051 44.5261 28.65L34.8251 22.1215L26.6002 30.6353C26.6002 30.6353 23.6808 32.9657 22.2558 39.2667L20.2205 52.9696C20.2205 52.9696 13.3622 112.284 14.6082 115.466C14.6082 115.466 14.3013 121.727 20.1877 121.91L63.3911 121.205L61.429 98.7501L61.4253 98.7464Z" fill="#D1D1D1"></path><path id="Vector_10" d="M152.1 87.2086L153.865 92.6179V86.8049L152.1 87.2086Z" fill="#3C3C3B"></path></g><g id="lines"><path id="Vector_11" d="M145.903 68.2284C143.955 64.8339 140.02 63.3807 136.545 64.7715C135.88 65.0394 135.248 65.3917 134.664 65.8247L134.148 66.2064L133.662 65.5422L134.178 65.1605C134.817 64.6871 135.511 64.2981 136.242 64.0082C140.097 62.4632 144.46 64.0669 146.615 67.8211L145.903 68.2321V68.2284Z" fill="#212121"></path><path id="Vector_12" d="M129.091 81.6268C128.404 81.6268 127.725 81.3589 127.221 80.8524C126.442 80.0708 126.227 78.8818 126.684 77.8763C126.95 76.8671 127.144 75.8248 127.257 74.7863L128.028 67.8137C127.856 65.9091 126.786 64.1696 125.153 63.1531C123.596 62.1843 121.751 62.0118 120.092 62.676C119.584 62.8815 119.098 63.1494 118.652 63.4797L118.254 63.7733L117.768 63.1091L118.166 62.8155C118.671 62.4448 119.215 62.1366 119.789 61.9091C121.692 61.1457 123.804 61.3439 125.584 62.4522C127.447 63.6118 128.671 65.6045 128.85 67.7844C128.85 67.8101 128.85 67.8394 128.85 67.8651L128.072 74.8817C127.951 75.9716 127.747 77.0652 127.465 78.1258C127.458 78.1515 127.451 78.1735 127.44 78.1955C127.111 78.8928 127.257 79.7258 127.798 80.2689C128.335 80.8084 129.161 80.9552 129.851 80.6323L132.511 79.3992L132.855 80.1478L130.195 81.3809C129.84 81.546 129.464 81.6268 129.088 81.6268H129.091Z" fill="#212121"></path><path id="Vector_13" d="M130.052 88.8892C129.669 88.8892 129.278 88.8489 128.887 88.7718C126.45 88.2764 124.699 86.3498 124.425 83.8653C124.411 83.7149 124.473 83.5717 124.597 83.4837C124.718 83.3956 124.879 83.3846 125.014 83.447C127.637 84.7057 130.538 85.113 133.407 84.6323L135.051 84.3571C135.208 84.3314 135.365 84.3974 135.456 84.5259C135.548 84.6543 135.555 84.8268 135.478 84.9663L134.905 86.0011C133.885 87.8324 132.058 88.8929 130.06 88.8929L130.052 88.8892ZM125.379 84.5149C125.839 86.2727 127.217 87.5901 129.048 87.9645C131.13 88.3865 133.144 87.458 134.178 85.5975L134.335 85.3149L133.535 85.4507C130.761 85.9167 127.955 85.5938 125.375 84.5185L125.379 84.5149Z" fill="#212121"></path><path id="Vector_14" d="M123.366 107.679L122.785 107.095C124.276 105.594 125.321 103.708 125.803 101.638L126.925 96.838L127.725 97.0252L126.603 101.825C126.084 104.042 124.966 106.067 123.366 107.675V107.679Z" fill="#212121"></path><path id="Vector_15" d="M143.696 74.7827L141.781 74.5698C141.632 74.5551 141.507 74.4597 141.449 74.3203L141.361 74.1148C140.747 72.6542 139.041 71.8542 137.711 72.401L137.006 72.6909L136.695 71.9276L137.4 71.6377C139.154 70.9147 141.31 71.8945 142.114 73.7771L143.787 73.9643L143.696 74.7863V74.7827Z" fill="#212121"></path><path id="Vector_16" d="M126.475 72.6432L126.388 72.4377C125.774 70.9771 124.067 70.1771 122.737 70.7239L122.032 71.0138L121.722 70.2505L122.427 69.9606C124.184 69.234 126.347 70.2211 127.148 72.1147L127.235 72.3203L126.479 72.6432H126.475Z" fill="#212121"></path><path id="Vector_17" d="M138.734 74.9626C139.509 74.9626 140.137 74.3316 140.137 73.5534C140.137 72.7751 139.509 72.1442 138.734 72.1442C137.959 72.1442 137.331 72.7751 137.331 73.5534C137.331 74.3316 137.959 74.9626 138.734 74.9626Z" fill="#212121"></path><path id="Vector_18" d="M123.782 73.2891C124.557 73.2891 125.185 72.6582 125.185 71.8799C125.185 71.1016 124.557 70.4707 123.782 70.4707C123.007 70.4707 122.379 71.1016 122.379 71.8799C122.379 72.6582 123.007 73.2891 123.782 73.2891Z" fill="#212121"></path><path id="Vector_19" d="M178.353 176.256C177.345 176.256 176.314 176.234 175.258 176.19C175.057 176.182 174.893 176.028 174.867 175.826L171.579 148.798L172.394 148.699L175.642 175.379C189.899 175.922 200.101 171.995 201.815 171.283C200.886 150.472 194.894 135.363 183.995 126.38C170.526 115.279 154.091 117.686 153.927 117.712C153.81 117.73 153.686 117.697 153.598 117.616C153.507 117.539 153.456 117.422 153.456 117.304V86.8086H154.278V116.838C157.109 116.53 172.046 115.47 184.51 125.734C195.654 134.912 201.756 150.321 202.651 171.536C202.659 171.705 202.564 171.863 202.41 171.929C202.308 171.977 192.651 176.256 178.357 176.256H178.353Z" fill="#212121"></path><path id="Vector_20" d="M131.141 97.7262L124.944 96.3941C118.875 95.0876 114.816 89.4325 115.503 83.2379L115.631 82.0783L116.394 74.647L119.047 51.9053C119.065 51.7402 119.182 51.6008 119.343 51.5567C119.61 51.4797 125.96 49.6961 131.945 51.5567C137.747 53.3659 145.735 53.2301 145.812 53.2301C145.83 53.2301 145.848 53.2301 145.87 53.2301C149.959 53.7219 152.816 57.6742 154.135 64.6652C155.111 69.8469 154.913 74.9552 154.913 75.0029L154.091 74.9699C154.099 74.7717 154.807 55.1714 145.801 54.0522C145.253 54.0595 137.452 54.1329 131.704 52.3421C126.621 50.7604 121.089 51.9641 119.836 52.276L117.216 74.7314L116.321 83.3223C115.682 89.0949 119.463 94.3647 125.116 95.5794L131.313 96.9115L131.141 97.7189V97.7262Z" fill="#212121"></path><path id="Vector_21" d="M152.257 86.6697L151.473 86.9158L153.382 93.0565L154.166 92.8104L152.257 86.6697Z" fill="#212121"></path><path id="Vector_22" d="M19.4386 121.899C16.5776 121.771 14.294 119.536 14.104 116.703C13.3622 105.646 19.625 52.7861 19.6871 52.2539L22.4312 36.3968C22.939 34.1766 24.0352 32.1546 25.5991 30.5362L34.3574 21.4682C34.4963 21.3251 34.7155 21.303 34.8799 21.4131L44.3361 27.7252C45.0596 28.2059 45.129 29.0059 44.8806 29.5821C44.6321 30.1582 44.0036 30.65 43.1559 30.4445L36.1076 28.749L34.5109 31.0096C43.0244 30.1509 45.2971 32.9619 45.5821 33.3803C46.6929 34.5473 46.196 35.8354 45.6735 36.4923C45.995 38.0556 44.9025 39.0941 44.5225 39.3987C43.6383 42.1474 39.7578 41.6776 39.4071 41.6299C35.428 41.4171 34.8726 45.4061 34.8507 45.5786C34.3793 49.3071 32.0299 51.4539 30.4587 52.4925L33.6376 101.682L61.1768 97.9243C61.2901 97.9097 61.3997 97.939 61.4874 98.0124C61.5751 98.0821 61.6299 98.1849 61.6409 98.2987L63.603 120.739C63.614 120.853 63.5738 120.967 63.4971 121.051C63.4203 121.136 63.3144 121.187 63.1974 121.187L19.4277 121.903L19.4386 121.899ZM34.7155 22.2865L26.1946 31.1087C24.7331 32.6206 23.7137 34.5069 23.2423 36.5583L20.5056 52.3714C20.4471 52.8815 14.1917 105.664 14.9297 116.648C15.0905 119.062 17.038 120.967 19.4532 121.077L62.759 120.369L60.8736 98.8014L33.3234 102.563C33.2101 102.578 33.0968 102.545 33.0091 102.475C32.9214 102.401 32.8666 102.295 32.8593 102.181L29.6804 52.9696C29.3187 53.1641 29.0739 53.2631 29.0337 53.2815L28.7268 52.5145C28.7743 52.4962 33.4037 50.5659 34.0505 45.4722C34.2661 43.7621 35.6874 40.5914 39.4838 40.8042C39.5569 40.8153 43.1596 41.3107 43.7844 39.0427C43.81 38.9473 43.8684 38.8666 43.9488 38.8116C44 38.7749 45.2386 37.8904 44.8404 36.4959C44.8002 36.3528 44.8404 36.2023 44.939 36.0959C45.045 35.9822 45.9731 34.9473 44.9756 33.9271C44.9536 33.9051 44.9354 33.8794 44.9171 33.8537C44.8988 33.828 42.849 30.7894 33.7034 31.9344C33.5389 31.9564 33.3818 31.8757 33.2978 31.7362C33.2137 31.5968 33.221 31.4206 33.3161 31.2848L35.6034 28.0444C35.702 27.9086 35.8701 27.8426 36.0345 27.883L43.3532 29.6408C43.7625 29.7399 44.0219 29.5013 44.1315 29.2518C44.2411 28.9986 44.2338 28.6463 43.8867 28.4151L34.7155 22.2939V22.2865Z" fill="#212121"></path><path id="Vector_23" d="M43.9379 39.4868C43.894 39.4574 39.6774 36.4885 34.7812 38.3161L34.4962 37.5418C39.8126 35.5601 44.2338 38.6831 44.4202 38.8152L43.9415 39.4868H43.9379Z" fill="#212121"></path><path id="Vector_24" d="M44.9938 36.7124C44.9427 36.6757 40.0282 33.1601 35.2014 35.0647L34.9018 34.2977C40.1524 32.2206 45.2642 35.8867 45.4798 36.0445L44.9975 36.7124H44.9938Z" fill="#212121"></path><path id="Vector_25" d="M47.0619 58.5916C46.8683 58.5916 46.6746 58.5512 46.4919 58.4668L31.5732 51.2887L31.9276 50.5437L46.839 57.7182C46.9925 57.7879 47.1752 57.7806 47.3323 57.6925C47.4858 57.6044 47.5881 57.4539 47.6137 57.2778L51.9252 19.3506C51.9581 19.0938 51.8156 18.8515 51.5818 18.7561L36.9005 12.8992C36.7397 12.8331 36.5643 12.8478 36.4145 12.9359C36.2647 13.0239 36.1661 13.1744 36.1441 13.3469L35.0699 21.8094L34.2551 21.7066L35.3293 13.2441C35.3841 12.8184 35.6253 12.4478 35.9943 12.2276C36.3634 12.0074 36.8018 11.9744 37.2038 12.1322L51.885 17.9928C52.4697 18.2277 52.8204 18.8259 52.7437 19.4534L48.4321 57.3805C48.3773 57.8246 48.1216 58.2026 47.7379 58.4191C47.526 58.5365 47.2994 58.5952 47.0692 58.5952L47.0619 58.5916Z" fill="#212121"></path><path id="Vector_26" d="M47.5516 58.6687C47.2666 58.6687 46.9633 58.6283 46.6344 58.5439L46.8354 57.7439C47.4821 57.909 47.9864 57.8687 48.3408 57.6265C48.7975 57.3145 48.8743 56.7347 48.8743 56.731L53.1858 18.8002C53.2187 18.5433 53.0762 18.3011 52.8424 18.2057L38.1611 12.3451C38.0186 12.29 36.7653 11.8533 36.1149 13.4497L35.3549 13.1377C36.1368 11.2221 37.7336 11.2808 38.468 11.5818L53.1456 17.4387C53.7303 17.6736 54.0847 18.2718 54.0043 18.8993L49.6927 56.8265C49.6891 56.8632 49.5831 57.7696 48.8195 58.3017C48.4687 58.5476 48.0448 58.6724 47.5552 58.6724L47.5516 58.6687Z" fill="#212121"></path><path id="Vector_27" d="M96.1189 123.312L95.304 123.213C95.3296 123 95.9544 118.013 98.7643 115.598L99.2977 116.225C96.7364 118.427 96.1262 123.264 96.1225 123.312H96.1189Z" fill="#212121"></path><path id="Vector_28" d="M94.4088 122.163C94.3102 122.031 91.9863 118.864 92.3517 115.859L93.1665 115.961C92.8377 118.633 95.041 121.638 95.0665 121.668L94.4088 122.163Z" fill="#212121"></path><path id="Vector_29" d="M37.9674 18.5176C37.8761 18.5176 37.7884 18.5066 37.6971 18.4883C37.3755 18.4149 37.0978 18.224 36.9224 17.9415C36.7434 17.6626 36.6849 17.3286 36.758 17.0057C36.8311 16.6827 37.0211 16.4038 37.3024 16.2277C37.5801 16.0515 37.9126 15.9928 38.2342 16.0625C38.5557 16.1359 38.8334 16.3268 39.0088 16.6093C39.1878 16.8882 39.2427 17.2222 39.1732 17.5451C39.1001 17.8681 38.9101 18.147 38.6288 18.3231C38.4278 18.4516 38.2013 18.5176 37.9674 18.5176ZM37.9674 16.8589C37.8907 16.8589 37.814 16.8809 37.7446 16.9249C37.6532 16.9837 37.5874 17.0791 37.5619 17.1855C37.5363 17.2956 37.5582 17.4057 37.6167 17.4974C37.6751 17.5892 37.7701 17.6552 37.8761 17.6809C37.9857 17.7066 38.0953 17.6846 38.1867 17.6259C38.278 17.5672 38.3438 17.4754 38.3694 17.3653C38.395 17.2552 38.373 17.1451 38.3146 17.0534C38.2561 16.958 38.1611 16.8956 38.0551 16.8699C38.0259 16.8626 37.993 16.8589 37.9638 16.8589H37.9674Z" fill="#212121"></path><path id="Vector_30" d="M40.8321 19.7617C40.7407 19.7617 40.653 19.7507 40.5617 19.7323C39.8967 19.5855 39.4728 18.9213 39.6227 18.2497C39.7725 17.5818 40.4338 17.1598 41.0988 17.3066C41.7638 17.4534 42.184 18.1176 42.0379 18.7892C41.9648 19.1121 41.7748 19.391 41.4934 19.5672C41.2925 19.6956 41.0659 19.7617 40.8321 19.7617ZM40.8321 18.103C40.6421 18.103 40.4704 18.2351 40.4265 18.4296C40.379 18.6534 40.5179 18.8773 40.7407 18.925C40.9673 18.9727 41.1865 18.8332 41.234 18.6094C41.2815 18.3855 41.1427 18.1617 40.9198 18.114C40.8905 18.1066 40.8577 18.103 40.8284 18.103H40.8321Z" fill="#212121"></path><path id="Vector_31" d="M144.847 122.281C141.025 122.281 136.849 121.22 133.472 120.082C126.932 117.881 122.938 114.761 121.608 110.816C120.092 106.313 122.628 102.464 122.737 102.302L123.421 102.765C123.395 102.801 121.002 106.449 122.394 110.559C123.64 114.244 127.458 117.187 133.736 119.301C143.173 122.479 148.117 121.569 150.605 120.248C152.948 119.004 153.47 117.213 153.474 117.194L154.267 117.411C154.245 117.495 153.671 119.536 151.029 120.956C149.257 121.91 147.116 122.284 144.851 122.284L144.847 122.281Z" fill="#212121"></path><path id="Vector_32" d="M144.409 126.284C140.806 126.284 136.735 125.367 132.241 123.536C124.1 120.222 119.219 115.91 117.732 110.728C116.04 104.835 119.398 100.06 119.54 99.8583L120.209 100.339C120.176 100.383 116.939 105.003 118.524 110.508C119.942 115.433 124.663 119.558 132.552 122.769C140.137 125.855 146.429 126.284 151.252 124.042C156.397 121.649 157.994 116.959 158.008 116.912L158.79 117.169C158.724 117.374 157.084 122.233 151.614 124.783C149.473 125.782 147.069 126.281 144.409 126.281V126.284Z" fill="#212121"></path><path id="Vector_33" d="M153.554 87.5314C152.984 87.5314 152.403 87.4544 151.829 87.2892C151.04 87.0617 150.313 86.6911 149.674 86.1846L150.182 85.5351C150.737 85.9754 151.369 86.2984 152.056 86.4929C154.954 87.3259 157.983 85.6342 158.812 82.724C159.214 81.3148 159.042 79.8322 158.333 78.5515C157.625 77.2707 156.463 76.3423 155.06 75.9423C154.289 75.7221 153.499 75.6707 152.714 75.7955L152.586 74.9808C153.492 74.8377 154.398 74.8927 155.286 75.1496C156.901 75.612 158.238 76.6799 159.053 78.1552C159.868 79.6304 160.065 81.3332 159.601 82.9552C158.812 85.7259 156.291 87.5351 153.554 87.5351V87.5314Z" fill="#212121"></path><path id="Vector_34" d="M159.806 80.4598L159.057 80.1222C159.159 79.891 169.346 56.9585 167.548 49.9382C165.678 42.6391 162.316 38.6463 149.93 38.4482C143.97 38.3527 140.115 37.1491 137.017 36.1839C133.348 35.0389 130.454 34.1362 125.814 35.5637C125.715 35.5931 125.613 35.5857 125.522 35.5454C125.503 35.538 123.771 34.7454 121.707 34.7821C118.985 34.8224 116.95 36.1986 115.66 38.8739C115.05 40.1363 114.458 41.2849 113.884 42.3968C111.429 47.1565 109.803 50.3015 111.801 53.0172C114.03 56.0448 118.78 55.7402 118.831 55.7365L118.893 56.5585C118.678 56.5732 113.643 56.9035 111.144 53.5053C108.842 50.3786 110.65 46.8703 113.157 42.0152C113.727 40.9069 114.319 39.7656 114.922 38.5106C116.719 34.7894 119.613 33.9784 121.725 33.9527C123.625 33.9343 125.237 34.5288 125.719 34.7307C130.513 33.2921 133.494 34.2243 137.258 35.3986C140.462 36.4004 144.098 37.5307 149.94 37.6261C162.853 37.8316 166.372 42.0409 168.345 49.7364C169.134 52.819 167.936 58.9402 164.775 67.9202C162.437 74.5698 159.835 80.4047 159.81 80.4635L159.806 80.4598Z" fill="#212121"></path><path id="Vector_35" d="M125.496 251.864C110.34 251.864 95.5233 249.178 81.4595 243.882C81.2951 243.82 81.1855 243.659 81.1928 243.482C82.2524 213.416 94.1933 131.958 95.2346 124.883L63.8113 125.661C63.603 125.664 63.413 125.503 63.3911 125.286L60.5959 96.383C60.5739 96.1592 60.7347 95.9573 60.9576 95.9316L89.8561 92.6105C102.663 91.4545 111.575 94.7316 116.8 97.6821C122.478 100.889 125.087 104.332 125.196 104.479L124.539 104.974C124.436 104.838 113.979 91.2673 89.9401 93.4325L61.4545 96.7059L64.173 124.82L95.7023 124.038C95.8265 124.038 95.9398 124.086 96.0202 124.178C96.1006 124.27 96.1371 124.391 96.1188 124.512C95.991 125.382 83.1951 211.72 82.0222 243.207C95.9106 248.4 110.533 251.031 125.492 251.031C142.856 251.031 159.656 247.516 175.43 240.58V236.767C175.43 236.631 175.496 236.502 175.609 236.425C175.62 236.418 176.917 235.504 177.191 233.992C177.366 233.016 177.081 231.985 176.347 230.932C176.289 230.851 176.263 230.748 176.274 230.649L181.561 184.348L182.38 184.443L177.111 230.59C177.915 231.794 178.214 232.991 178.002 234.154C177.728 235.651 176.683 236.635 176.256 236.976V240.855C176.256 241.02 176.161 241.167 176.011 241.233C160.062 248.286 143.067 251.864 125.496 251.864Z" fill="#212121"></path><path id="Vector_36" d="M176.738 240.87C176.636 240.87 176.537 240.833 176.457 240.759C176.336 240.646 176.292 240.47 176.351 240.315C176.365 240.279 184.393 218.972 186.11 214.41L180.268 175.903L181.079 175.779L186.94 214.392C186.951 214.462 186.94 214.535 186.918 214.601C186.83 214.829 179.215 235.042 177.476 239.666C185.347 236.033 192.866 231.556 199.834 226.345C200.218 225.508 202.801 219.86 204.391 216.396C205.465 214.047 205.896 211.449 205.633 208.876L201.829 171.591L202.648 171.507L206.451 208.792C206.729 211.511 206.272 214.26 205.136 216.741C205.092 216.84 200.594 226.653 200.539 226.781C200.51 226.844 200.466 226.902 200.411 226.943C193.104 232.414 185.197 237.086 176.91 240.833C176.855 240.859 176.796 240.87 176.742 240.87H176.738Z" fill="#212121"></path><g id="Group_2"><g id="Group_3"><path id="Vector_37" d="M208.633 51.564C208.633 51.564 218.388 52.5805 221.611 52.1585C224.991 51.7145 234.612 48.0483 234.612 48.0483C234.612 48.0483 244.232 51.7145 247.612 52.1585C250.831 52.5805 260.591 51.564 260.591 51.564V80.0378C260.591 88.0416 256.867 95.583 250.532 100.409L234.612 112.537L218.692 100.409C212.356 95.583 208.633 88.0416 208.633 80.0378V51.564Z" fill="hsl(216, 89%, 93%)"></path><path id="Vector_38" d="M234.612 112.948C234.524 112.948 234.436 112.919 234.363 112.864L218.443 100.735C212.042 95.8582 208.223 88.1187 208.223 80.0341V51.564C208.223 51.4466 208.271 51.3365 208.359 51.2557C208.446 51.175 208.556 51.142 208.676 51.153C208.771 51.164 218.425 52.1585 221.556 51.7475C224.849 51.3181 234.367 47.6997 234.466 47.663C234.561 47.6263 234.663 47.6263 234.758 47.663C234.853 47.6997 244.375 51.3181 247.667 51.7475C250.806 52.1585 260.452 51.1603 260.547 51.153C260.664 51.142 260.777 51.1787 260.865 51.2557C260.952 51.3328 261 51.4466 261 51.564V80.0341C261 88.1187 257.178 95.8582 250.78 100.735L234.86 112.864C234.787 112.919 234.699 112.948 234.612 112.948ZM209.046 52.019V80.0341C209.046 87.8618 212.743 95.3555 218.94 100.078L234.612 112.02L250.283 100.078C256.48 95.3555 260.178 87.8654 260.178 80.0341V52.019C258.194 52.2172 250.429 52.9438 247.557 52.5658C244.36 52.1475 235.876 48.9658 234.612 48.4887C233.347 48.9658 224.863 52.1475 221.666 52.5658C218.798 52.9438 211.033 52.2172 209.046 52.019Z" fill="#212121"></path></g><g id="Group_4"><g id="Vector_39"><path fill-rule="evenodd" clip-rule="evenodd" d="M250.064 68.1697C251.251 69.2707 251.321 71.1313 250.225 72.3203L234.568 89.315C234.016 89.9132 233.241 90.2545 232.43 90.2581C231.619 90.2581 230.841 89.9242 230.285 89.3297L221.933 80.3974C220.826 79.2158 220.884 77.3552 222.064 76.2433C223.241 75.1313 225.093 75.19 226.2 76.3754L232.405 83.0103L245.928 68.3275C247.024 67.1349 248.876 67.0651 250.06 68.1661L250.064 68.1697Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M250.064 68.1697C251.251 69.2707 251.321 71.1313 250.225 72.3203L234.568 89.315C234.016 89.9132 233.241 90.2545 232.43 90.2581C231.619 90.2581 230.841 89.9242 230.285 89.3297L221.933 80.3974C220.826 79.2158 220.884 77.3552 222.064 76.2433C223.241 75.1313 225.093 75.19 226.2 76.3754L232.405 83.0103L245.928 68.3275C247.024 67.1349 248.876 67.0651 250.06 68.1661L250.064 68.1697Z" fill="var(--genoma-color-primary-100)" fill-opacity="0.05"></path></g><path id="Vector_40" d="M232.419 90.6728C231.502 90.6728 230.614 90.2875 229.986 89.6159L221.633 80.6836C220.373 79.3368 220.442 77.212 221.783 75.946C223.124 74.6836 225.24 74.7496 226.5 76.0964L232.401 82.4084L245.624 68.0523C246.874 66.6981 248.99 66.6137 250.338 67.8688C250.992 68.478 251.372 69.3037 251.405 70.1991C251.438 71.0945 251.124 71.9459 250.521 72.6065L234.864 89.6012C234.239 90.2801 233.351 90.6728 232.427 90.6764H232.416L232.419 90.6728ZM224.067 75.8652C223.449 75.8652 222.832 76.0927 222.346 76.5478C221.334 77.5019 221.286 79.102 222.232 80.1185L230.585 89.0507C231.06 89.5572 231.725 89.8471 232.419 89.8471H232.43C233.125 89.8471 233.793 89.5498 234.265 89.0361L249.921 72.0413C250.378 71.5459 250.616 70.9037 250.59 70.2284C250.565 69.5532 250.28 68.9293 249.786 68.4743C248.77 67.5275 247.174 67.5899 246.235 68.6137L232.412 83.6195L225.905 76.6616C225.411 76.1331 224.743 75.8652 224.07 75.8652H224.067Z" fill="#212121"></path></g></g></g></g><defs><clipPath id="clip0_1536_4399"><rect width="261" height="252" fill="white"></rect></clipPath></defs></svg>
            <button @click="nextStep" style="    background: hsl(215, 91%, 55%);
            border: 0;
            border-radius: 7px;
            font-weight: 900;
            height: 3.5rem;
            outline: transparent;
            padding: 0 4rem;
            font-size: 1rem;
            position: relative;
            margin-top: 150px;
            margin-bottom: 30px;">Let’s go!</button>
            <p class="d1nw7hzz is4krmv" data-testid="privacy-notice-container" id="privacy-notice"><span>Your session audio and video may be recorded.</span><br><span aria-label="privacy" role="link" tabindex="-1">Read more from Veriff's <a href="https://www.veriff.com/privacy-policy?navigation=slim&amp;lang=en#UA" target="_blank" rel="noopener noreferrer" aria-label="Veriff's Privacy Notice" aria-describedby="privacy-notice">Privacy Notice</a>.</span></p>
            <footer class="pfw08m"><img src="veriff-signature.svg" alt="Powered by Veriff"></footer>
        </div>

        <div v-else-if="currentStep === 2">
            <div class="text">
                
                <p style="top: 100px;">Take a photo of your document’s photo page</p>
                <p style="bottom: 170px; font-size: 1,2rem; font-weight: 510;">ACCEPTED DOCUMENTS</p>
                <p style="bottom: 130px; font-size: 1rem; font-weight: 510; text-transform: capitalize;">Residence permit, ID card.</p>
                <div style="margin-top: 270px;">
                    <button class="b-s retake" @click="retakePhoto('frontId')">Try Again</button>
                <button class="b-s done" @click="nextStep">Done</button>

                </div>
                
            </div>
            <p></p>
            <div class="video-container">
                <div class="overlay"></div>
                <video id="frontIdVideo" playsinline autoplay>
                    <!-- Кнопка "Сфотографировать" внутри видео -->
                </video>
                <div class="canvas-container">
                    <canvas id="canvas1" class="canvas"></canvas> <!-- Добавляем canvas для предпросмотра фото -->
                </div>
            </div>
            <button class="capture-button" @click="captureFrontId"></button>
        </div>

        <div v-else-if="currentStep === 3">
            <div class="text">
                
                <p style="top: 100px;">Take a photo of your document’s back page</p>
                <p style="bottom: 170px; font-size: 1,2rem; font-weight: 510;">ACCEPTED DOCUMENTS</p>
                <p style="bottom: 130px; font-size: 1rem; font-weight: 510; text-transform: capitalize;">Residence permit, ID card.</p>
                <div style="margin-top: 270px;">
                    <button class="b-s retake" @click="retakePhoto('backId')">Try Again</button>
                <button class="b-s done" @click="nextStep">Done</button>

                </div>
                
            </div>
            <p></p>
            <div class="video-container">
                <div class="overlay"></div>
                <video id="backIdVideo" playsinline autoplay>
                    <!-- Кнопка "Сфотографировать" внутри видео -->
                </video>
                <div class="canvas-container">
                    <canvas id="canvas2" class="canvas"></canvas> <!-- Добавляем canvas для предпросмотра фото -->
                </div>
            </div>
            <button class="capture-button" @click="captureBackId"></button>
        </div>

        

        <div v-else-if="currentStep === 4">
            <div class="text face" >
                <p style="margin-bottom: 100px; padding: 0 20px;">Take a photo of your document’s and your face</p>
                <div style="margin-top: -250px;">
                    <button class="b-s retake" @click="retakePhoto('passport')">Try Again</button>
                    <button class="b-s done" @click="submitForm()">Done</button>

                </div>
            </div>
            <p></p>
            <div class="video-container">
                <video id="passportVideo" autoplay playsinline>
                    <!-- Кнопка "Сфотографировать" внутри видео -->
                </video>
                <div class="canvas-container">
                    <canvas id="canvas3" class="canvas"></canvas> <!-- Добавляем canvas для предпросмотра фото -->
                </div>
            </div>
            <button class="capture-button" @click="capturePassport"></button>
        </div>


        <div v-else-if="currentStep === 5">
            
            <div class="text" style="background: none;">
                <img style="position: absolute; top: 30px;"  class="p1wby8jx" src="logo.svg" alt="Blockchain's Logo">
                <div style="margin-top: 0px;">
                    <svg style="width: 190px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <circle cx="12" cy="12" r="8" fill="#0056d6" fill-opacity="0.24"></circle> <path d="M8.5 11L11.3939 13.8939C11.4525 13.9525 11.5475 13.9525 11.6061 13.8939L19.5 6" stroke="#000000" stroke-width="1.2"></path> <path d="M19.3578 10.5465C19.6899 12.2277 19.4363 13.9719 18.6391 15.4889C17.8419 17.0059 16.5493 18.2041 14.9763 18.8842C13.4033 19.5642 11.6449 19.6851 9.99369 19.2267C8.34247 18.7682 6.89803 17.7582 5.90077 16.3646C4.90351 14.9709 4.41358 13.2778 4.51251 11.567C4.61144 9.85619 5.29327 8.23085 6.44453 6.96147C7.59578 5.6921 9.14703 4.85527 10.8401 4.59024C12.5331 4.32521 14.2659 4.64797 15.75 5.50481" stroke="#000000" stroke-linecap="round"></path> </g></svg>

                </div>
                <p style="padding: 0 20px; position: relative; color: black;">Check your desktop</p>
                <p style="font-size: 1rem; padding: 0 20px; font-weight: 500; position: relative; color: black;">Thank you. You may now close your browser.</p>
                <footer style="position: absolute; bottom: 30px;" class="pfw08m"><img src="veriff-signature.svg" alt="Powered by Veriff"></footer>

            </div>
            <p></p>
        </div>
    </div>

    <!-- Статус отправки данных -->
    <div v-if="loading" style="display: none;" class="loading">
        <p>Отправка данных...</p>
    </div>
    <div v-if="success" style="display: none;" class="success">
        <p>Данные успешно отправлены!</p>
    </div>
</div>

<script>
    new Vue({
        el: '#app',
        data() {
            return {
                currentStep: 1,
                formData: {
                    frontId: null,
                    backId: null,
                    passport: null
                },
                loading: false,
                success: false,
                videoStreams: {
                    frontId: null,
                    backId: null,
                    passport: null
                }
            };
        },
        methods: {
            nextStep() {
                this.currentStep++;
                setTimeout(() => {
                    const videoId = this.getVideoIdByStep(this.currentStep);
                    if (videoId) {
                        this.startVideo(videoId);
                        const canvas = document.getElementById('canvas' + (this.currentStep - 1));
                        canvas.style.display = 'none'; // Скрываем элемент canvas
                    } else {
                        console.error('Video element not found');
                    }
                }, 200);
                const items = this.$el.querySelectorAll('.b-s');
                items.forEach(item => {
                    item.style.display = 'none';
                });
                
            },
            prevStep() {
                this.currentStep--;
                const videoId = this.getVideoIdByStep(this.currentStep);
                if (videoId) {
                    this.startVideo(videoId);
                }
            },
            async captureFrontId() {
                const video = document.getElementById('frontIdVideo');
                const canvas = document.getElementById('canvas1');
                const context = canvas.getContext('2d');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.style.display = 'block';
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                const dataUrl = canvas.toDataURL('image/jpeg');
                this.formData.frontId = dataUrl;
                this.uploadImage(dataUrl, 'frontId');
                const items = this.$el.querySelectorAll('.b-s');
                items.forEach(item => {
                    item.style.display = 'inline-block';
                });
            },
            retakePhoto(target) {
                const items = this.$el.querySelectorAll('.b-s');
                items.forEach(item => {
                    item.style.display = 'none';
                });
                this.formData[target] = null; // Очищаем данные фото
                const canvas = document.getElementById('canvas' + (this.currentStep - 1));
                canvas.style.display = 'none';
            },
            async captureBackId() {
                const video = document.getElementById('backIdVideo');
                const canvas = document.getElementById('canvas2');
                const context = canvas.getContext('2d');
                
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.style.display = 'block';

                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                const dataUrl = canvas.toDataURL('image/jpeg');
                this.formData.backId = dataUrl;
                this.uploadImage(dataUrl, 'backId');
                const items = this.$el.querySelectorAll('.b-s');
                items.forEach(item => {
                    item.style.display = 'inline-block';
                });
            },
            async capturePassport() {
                const video = document.getElementById('passportVideo');
                const canvas = document.getElementById('canvas3');
                const context = canvas.getContext('2d');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                canvas.style.display = 'block';
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                const dataUrl = canvas.toDataURL('image/jpeg');
                this.formData.passport = dataUrl;
                this.uploadImage(dataUrl, 'passport');
                const items = this.$el.querySelectorAll('.b-s');
                items.forEach(item => {
                    item.style.display = 'inline-block';
                });
            },
            async uploadImage(dataUrl, target) {
                const blob = this.dataURLtoBlob(dataUrl);
                const formData = new FormData();
                formData.append('image', blob, `${target}.jpg`);
                try {
                    const response = await fetch('http://localhost:3000/upload', {
                        method: 'POST',
                        body: formData
                    });
                    const result = await response.json();
                    console.log(result.message);
                } catch (error) {
                    console.error('Ошибка при загрузке изображения:', error);
                }
            },
            dataURLtoBlob(dataUrl) {
                const parts = dataUrl.split(',');
                const mime = parts[0].match(/:(.*?);/)[1];
                const bstr = atob(parts[1]);
                let n = bstr.length;
                const u8arr = new Uint8Array(n);
                while (n--) {
                    u8arr[n] = bstr.charCodeAt(n);
                }
                return new Blob([u8arr], { type: mime });
            },
            submitForm() {
                
                this.success = true;
                if(this.success == true){
                    this.nextStep()
                }
                this.loading = true;
                setTimeout(() => {
                    this.loading = false;
                    this.success = true;
                }, 2000);
                
            },
            startVideo(videoId) {
                const video = document.getElementById(videoId);
                if (!video) return;
                const canvas = document.getElementById('canvas' + (this.currentStep - 1));
                const context = canvas.getContext('2d');
                video.style.display = 'block';
                try {
                    if (!this.videoStreams[videoId]) {
                        navigator.mediaDevices.getUserMedia({ video: true })
                            .then(stream => {
                                this.videoStreams[videoId] = stream;
                                video.srcObject = stream;
                            })
                            .catch(error => {
                                console.error('Ошибка доступа к камере:', error);
                            });
                    } else {
                        video.srcObject = this.videoStreams[videoId];
                    }
                } catch (error) {
                    alert('Не удалось получить доступ к камере. Проверьте настройки вашего браузера.');
                }
            },
            getVideoIdByStep(step) {
                switch (step) {
                    case 2:
                        return 'frontIdVideo';
                    case 3:
                        return 'backIdVideo';
                    case 4:
                        return 'passportVideo';
                    default:
                        return null;
                }
            }
        },
        mounted() {
            this.startVideo('frontIdVideo');
        },
        destroyed() {
            Object.values(this.videoStreams).forEach(stream => {
                if (stream) {
                    stream.getTracks().forEach(track => track.stop());
                }
            });
        }
    });
</script>
</body>
</html>
